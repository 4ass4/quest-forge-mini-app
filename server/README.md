# Quest Forge Telegram Bot

Telegram –±–æ—Ç –¥–ª—è Mini App Quest Forge —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Supabase.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø–∞–ø–∫–∏ `server`:

```env
# Telegram Bot
BOT_TOKEN=6441651041:AAF1m6AAIwjIXGuZkaaBUl8Uca9nf0lzbis
WEBAPP_URL=https://4ass4.github.io/quest-forge-mini-app/

# Server
PORT=3000
NODE_ENV=development

# Supabase
SUPABASE_URL=https://eyqfxkllsmnlqefbiibi.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV5cWZ4a2xsc21ubHFlZmJpaWJpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0NDM2OTcsImV4cCI6MjA3MTAxOTY5N30.G-XfgSziZ2VrqjOogkNHbpumEjcDs2gb_BJ7wAMRq7Y

# JWT
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Supabase Dashboard](https://supabase.com/dashboard)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `eyqfxkllsmnlqefbiibi`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `supabase-setup.sql`
5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

**–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π):**
```bash
npm run dev
```

**–ü—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º:**
```bash
npm start
```

## üìã –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏–≥—Ä–µ

## üéÆ –§—É–Ω–∫—Ü–∏–∏

- ‚úÖ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –ø—Ä–∏ –ø–µ—Ä–≤–æ–º `/start`
- ‚úÖ **–ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞** —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- ‚úÖ **–†–µ–π—Ç–∏–Ω–≥ –∏–≥—Ä–æ–∫–æ–≤** –ø–æ –æ—á–∫–∞–º
- ‚úÖ **–ú–∞–≥–∞–∑–∏–Ω** —Å –∏–≥—Ä–æ–≤—ã–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏
- ‚úÖ **–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è** —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Mini App**

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:
- `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Telegram
- `achievements` - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- `user_achievements` - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `quests` - –ö–≤–µ—Å—Ç—ã
- `quest_steps` - –®–∞–≥–∏ –∫–≤–µ—Å—Ç–æ–≤
- `quest_progresses` - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫–≤–µ—Å—Ç–∞–º
- `shop_items` - –¢–æ–≤–∞—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞
- `purchases` - –ü–æ–∫—É–ø–∫–∏

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Node.js** - –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **node-telegram-bot-api** - Telegram Bot API
- **@supabase/supabase-js** - Supabase –∫–ª–∏–µ–Ω—Ç
- **dotenv** - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
server/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ supabaseService.js    # –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase
‚îú‚îÄ‚îÄ simple-bot.js             # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ bot.js                    # –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–æ—Ç–∞
‚îú‚îÄ‚îÄ package.json              # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                      # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ supabase-setup.sql        # SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
‚îî‚îÄ‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `SUPABASE_URL` –∏ `SUPABASE_ANON_KEY`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ SQL —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ Supabase
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Row Level Security (RLS)

### –û—à–∏–±–∫–∞ Telegram Bot
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `BOT_TOKEN`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Mini App –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- [ ] –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π –∏ –æ–ø—ã—Ç–∞
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–≤–µ—Å—Ç–æ–≤
- [ ] –°–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∑–µ–π –∏ –∫–æ–º–∞–Ω–¥
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö
